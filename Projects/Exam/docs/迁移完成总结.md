# Examé¡¹ç›®è¿ç§»å®Œæˆæ€»ç»“

## âœ… è¿ç§»çŠ¶æ€ï¼šå·²å®Œæˆ

**è¿ç§»æ—¶é—´**ï¼š2026-01-09  
**é¡¹ç›®åç§°**ï¼šå¤§å­¦è€ƒè¯•åˆ·é¢˜å·¥å…·  
**è®¿é—®åœ°å€**ï¼šhttps://home.liukun.com:8443/Samples/Exam/

---

## ğŸ“‹ å®Œæˆçš„å·¥ä½œ

### 1. æ–‡ä»¶è¿ç§» âœ…
- ä» `exam.liukun.com:/www/wwwroot/exam/` 
- è¿ç§»åˆ° `/www/wwwroot/ibubble.vicp.net/Samples/Exam/`
- æ‰€æœ‰æ–‡ä»¶å®Œæ•´è¿ç§»ï¼ˆPHPã€CSSã€JSã€å›¾ç‰‡ã€ä¾èµ–ï¼‰

### 2. æ•°æ®åº“é…ç½® âœ…
- **é…ç½®æ–‡ä»¶**ï¼š`inc/db.inc.php`
- **è¿æ¥æ–¹å¼**ï¼šunix_socketï¼ˆ`/tmp/mysql.sock`ï¼‰
- **æ•°æ®åº“**ï¼šexam
- **ç”¨æˆ·**ï¼šexam
- **æµ‹è¯•ç»“æœ**ï¼šâœ… è¿æ¥æˆåŠŸï¼Œ486æ¡å­¦ç”Ÿè®°å½•

### 3. æƒé™è®¾ç½® âœ…
- **æ‰€æœ‰è€…**ï¼šgemini:www
- **ç›®å½•æƒé™**ï¼š775
- **æ–‡ä»¶æƒé™**ï¼š664

### 4. é¡µé¢æ›´æ–° âœ…
- æ›´æ–° `samples.html` æ·»åŠ Examé¡¹ç›®é“¾æ¥
- é¡¹ç›®å·²åœ¨Samplesé¡µé¢å±•ç¤º

---

## ğŸ”§ å…³é”®é…ç½®

### æ•°æ®åº“è¿æ¥ï¼ˆé‡è¦ï¼ï¼‰
```php
// ä½¿ç”¨unix_socketè¿æ¥ï¼Œé¿å…"No such file or directory"é”™è¯¯
$db_socket = '/tmp/mysql.sock';
$pdo = new PDO(
    "mysql:unix_socket=$db_socket;dbname=$db_name;charset=utf8mb4",
    $db_user,
    $db_pass,
    [...]
);
```

### ä¸ºä»€ä¹ˆä½¿ç”¨unix_socketï¼Ÿ
- âŒ `mysql:host=localhost` ä¼šå¯¼è‡´PDOæ‰¾ä¸åˆ°socketæ–‡ä»¶
- âœ… `mysql:unix_socket=/tmp/mysql.sock` ç›´æ¥æŒ‡å®šsocketè·¯å¾„
- âœ… è¿æ¥æ›´å¿«ï¼Œæ€§èƒ½æ›´å¥½

---

## ğŸŒ è®¿é—®åœ°å€

### å­¦ç”Ÿç«¯
- ç™»å½•ï¼šhttps://home.liukun.com:8443/Samples/Exam/
- è€ƒè¯•åˆ—è¡¨ï¼šhttps://home.liukun.com:8443/Samples/Exam/exam_list.php
- é”™é¢˜æœ¬ï¼šhttps://home.liukun.com:8443/Samples/Exam/wrong_questions.php

### ç®¡ç†ç«¯
- ç™»å½•ï¼šhttps://home.liukun.com:8443/Samples/Exam/admin/login.php
- åå°ï¼šhttps://home.liukun.com:8443/Samples/Exam/admin/

### é¡¹ç›®åˆ—è¡¨
- Samplesï¼šhttps://home.liukun.com:8443/samples.html

---

## ğŸ“Š æ•°æ®åº“çŠ¶æ€

### æ•°æ®è¡¨ï¼ˆ13ä¸ªï¼‰
```
admin_logs          - ç®¡ç†å‘˜æ“ä½œæ—¥å¿—
admins              - ç®¡ç†å‘˜è´¦å·
answer_records      - ç­”é¢˜è®°å½•
exam_questions      - è€ƒè¯•é¢˜ç›®å…³è”
exam_records        - è€ƒè¯•è®°å½•
paper_classes       - è¯•å·åˆ†ç±»
paper_questions     - è¯•å·é¢˜ç›®
papers              - è¯•å·
questions           - é¢˜åº“
settings            - ç³»ç»Ÿè®¾ç½®
students            - å­¦ç”Ÿè´¦å·ï¼ˆ486æ¡è®°å½•ï¼‰
subjects            - ç§‘ç›®
wrong_questions     - é”™é¢˜è®°å½•
```

---

## ğŸ§ª æµ‹è¯•å‘½ä»¤

### å¿«é€Ÿæµ‹è¯•æ•°æ®åº“è¿æ¥
```bash
php Samples/Exam/test_db_simple.php
```

**é¢„æœŸè¾“å‡º**ï¼š
```
å¼€å§‹æµ‹è¯•...
å°è¯•è¿æ¥æ•°æ®åº“...
âœ“ è¿æ¥æˆåŠŸï¼
âœ“ å­¦ç”Ÿè¡¨è®°å½•æ•°: 486
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
Samples/Exam/
â”œâ”€â”€ admin/              # ç®¡ç†åå°
â”‚   â”œâ”€â”€ login.php      # ç®¡ç†å‘˜ç™»å½•
â”‚   â”œâ”€â”€ questions.php  # é¢˜åº“ç®¡ç†
â”‚   â”œâ”€â”€ papers.php     # è¯•å·ç®¡ç†
â”‚   â””â”€â”€ students.php   # å­¦ç”Ÿç®¡ç†
â”œâ”€â”€ inc/               # æ ¸å¿ƒæ–‡ä»¶
â”‚   â”œâ”€â”€ db.inc.php    # æ•°æ®åº“é…ç½® â­
â”‚   â””â”€â”€ functions.inc.php
â”œâ”€â”€ css/               # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ images/            # å›¾ç‰‡èµ„æº
â”œâ”€â”€ uploads/           # ä¸Šä¼ æ–‡ä»¶
â”œâ”€â”€ vendor/            # Composerä¾èµ–
â”œâ”€â”€ index.php          # å­¦ç”Ÿç™»å½•
â”œâ”€â”€ exam_list.php      # è€ƒè¯•åˆ—è¡¨
â”œâ”€â”€ exam.php           # è€ƒè¯•é¡µé¢
â””â”€â”€ ...
```

---

## âš ï¸ é‡è¦æç¤º

### 1. æ•°æ®åº“è¿æ¥æ–¹å¼
- âœ… **æ­£ç¡®**ï¼šä½¿ç”¨ `unix_socket=/tmp/mysql.sock`
- âŒ **é”™è¯¯**ï¼šä½¿ç”¨ `host=localhost;port=3306`

### 2. æ–‡ä»¶æƒé™
- ç›®å½•ï¼š775 (drwxrwxr-x)
- æ–‡ä»¶ï¼š664 (rw-rw-r--)
- æ‰€æœ‰è€…ï¼šgemini:www

### 3. æ•°æ®åº“ä¿¡æ¯
- ä¸»æœºï¼šlocalhostï¼ˆé€šè¿‡socketè¿æ¥ï¼‰
- æ•°æ®åº“ï¼šexam
- ç”¨æˆ·ï¼šexam
- å¯†ç ï¼šGl5181081

---

## ğŸ“ ç›¸å…³æ–‡æ¡£

1. **éƒ¨ç½²è¯´æ˜.md** - è¯¦ç»†çš„éƒ¨ç½²æ­¥éª¤å’Œé…ç½®è¯´æ˜
2. **æµ‹è¯•æŠ¥å‘Š.md** - å®Œæ•´çš„æµ‹è¯•ç»“æœå’Œé—®é¢˜è§£å†³
3. **README.md** - é¡¹ç›®åŸæœ‰çš„è¯´æ˜æ–‡æ¡£

---

## ğŸ¯ ä¸‹ä¸€æ­¥

### å»ºè®®æµ‹è¯•é¡¹ç›®
1. âœ… æ•°æ®åº“è¿æ¥ - å·²æµ‹è¯•é€šè¿‡
2. â³ å­¦ç”Ÿç™»å½•åŠŸèƒ½
3. â³ è€ƒè¯•åˆ—è¡¨æ˜¾ç¤º
4. â³ å¼€å§‹è€ƒè¯•åŠŸèƒ½
5. â³ æäº¤ç­”æ¡ˆåŠŸèƒ½
6. â³ æŸ¥çœ‹æˆç»©åŠŸèƒ½
7. â³ é”™é¢˜æœ¬åŠŸèƒ½
8. â³ ç®¡ç†å‘˜ç™»å½•
9. â³ åå°ç®¡ç†åŠŸèƒ½

### æµ‹è¯•æ–¹æ³•
ç›´æ¥è®¿é—®ï¼šhttps://home.liukun.com:8443/Samples/Exam/

---

## ğŸ“ é—®é¢˜æ’æŸ¥

### å¦‚æœé‡åˆ°æ•°æ®åº“è¿æ¥é—®é¢˜
```bash
# 1. æ£€æŸ¥MySQLæœåŠ¡
sudo systemctl status mysql

# 2. æ£€æŸ¥socketæ–‡ä»¶
ls -la /tmp/mysql.sock

# 3. æµ‹è¯•æ•°æ®åº“è¿æ¥
php Samples/Exam/test_db_simple.php

# 4. æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f /var/log/php-fpm/error.log
```

---

**è¿ç§»å®Œæˆ** âœ…  
**æ•°æ®åº“è¿æ¥** âœ…  
**å¯ä»¥å¼€å§‹ä½¿ç”¨** âœ…

**æ›´æ–°æ—¶é—´**ï¼š2026-01-09
